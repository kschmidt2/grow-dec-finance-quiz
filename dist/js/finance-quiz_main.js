!function(e,t,s,n){"use strict";e.quiz=function(t,n){var o=this;o.$el=e(t),o.$el.data("quiz",o),o.options=e.extend(e.quiz.defaultOptions,n);var i=o.options.questions,r=i.length,u=o.options.startScreen,c=(o.options.startButton,o.options.homeButton),a=o.options.resultsScreen,d=o.options.gameOverScreen,l=o.options.nextButtonText,h=o.options.finishButtonText,q=o.options.restartButtonText,p=1,f=0,m=!1;o.methods={init:function(){o.methods.setup(),e(s).ready(function(e){o.methods.start()}),e(s).on("click",c,function(e){e.preventDefault(),o.methods.home()}),e(s).on("click",".answers a",function(e){e.preventDefault(),o.methods.answerQuestion(this)}),e(s).on("click","#quiz-next-btn",function(e){e.preventDefault(),o.methods.nextQuestion()}),e(s).on("click","#quiz-finish-btn",function(e){e.preventDefault(),o.methods.finish()}),e(s).on("click","#quiz-restart-btn, #quiz-retry-btn",function(e){e.preventDefault(),o.methods.restart()})},setup:function(){var t="";o.options.counter&&(t+='<div id="quiz-counter"></div>'),t+='<div id="questions">',e.each(i,function(s,n){t+='<div class="question-container">',t+='<p class="question">'+n.q+"</p>",t+='<ul class="answers">',e.each(n.options,function(e,s){t+='<li><a href="#" data-index="'+e+'">'+s+"</a></li>"}),t+="</ul>",t+="</div>"}),t+="</div>",0===e(a).length&&(t+='<div id="'+a.substr(1)+'">',t+='<p id="quiz-results"></p>',t+="</div>"),t+='<div id="quiz-controls">',t+='<p id="quiz-response"></p>',t+='<div id="quiz-buttons">',t+='<a href="#" id="quiz-next-btn">'+l+"</a>",t+='<a href="#" id="quiz-finish-btn">'+h+"</a>",t+='<a href="#" id="quiz-restart-btn">'+q+"</a>",t+="</div>",t+="</div>",o.$el.append(t).addClass("quiz-container quiz-start-state"),e("#quiz-counter").hide(),e(".question-container").hide(),e(d).hide(),e(a).hide(),e("#quiz-controls").hide()},start:function(){o.$el.removeClass("quiz-start-state").addClass("quiz-questions-state"),e(u).hide(),e("#quiz-controls").hide(),e("#quiz-finish-btn").hide(),e("#quiz-restart-btn").hide(),e("#questions").show(),e("#quiz-counter").show(),e(".question-container:first-child").show().addClass("active-question"),o.methods.updateCounter()},answerQuestion:function(t){if(!m){m=!0;var s=e(t),n="",r=s.data("index"),u=p-1;if(r===i[u].correctIndex)s.addClass("correct"),n=i[u].correctResponse,f++;else if(s.addClass("incorrect"),n=i[u].incorrectResponse,!o.options.allowIncorrect)return void o.methods.gameOver(n);e("#quiz-response").html(n),e("#quiz-controls").fadeIn(),"function"==typeof o.options.answerCallback&&o.options.answerCallback(p,r,i[u])}},nextQuestion:function(){m=!1,e(".active-question").hide().removeClass("active-question").next(".question-container").show().addClass("active-question"),e("#quiz-controls").hide(),++p===r&&(e("#quiz-next-btn").hide(),e("#quiz-finish-btn").show()),o.methods.updateCounter(),"function"==typeof o.options.nextCallback&&o.options.nextCallback()},gameOver:function(t){if(0===e(d).length){var s="";s+='<div id="'+d.substr(1)+'">',s+='<p id="quiz-gameover-response"></p>',s+='<p><a href="#" id="quiz-retry-btn">'+q+"</a></p>",s+="</div>",o.$el.append(s)}e("#quiz-gameover-response").html(t),e("#quiz-counter").hide(),e("#questions").hide(),e("#quiz-finish-btn").hide(),e(d).show()},finish:function(){o.$el.removeClass("quiz-questions-state").addClass("quiz-results-state"),e(".active-question").hide().removeClass("active-question"),e("#quiz-counter").hide(),e("#quiz-response").hide(),e("#quiz-finish-btn").hide(),e("#quiz-next-btn").hide(),e("#quiz-restart-btn").show(),e(a).show();var t=o.options.resultsFormat.replace("%score",f).replace("%total",r);e("#quiz-results").html(t),"function"==typeof o.options.finishCallback&&o.options.finishCallback()},restart:function(){o.methods.reset(),o.$el.addClass("quiz-questions-state"),e("#questions").show(),e("#quiz-counter").show(),e(".question-container:first-child").show().addClass("active-question"),o.methods.updateCounter()},reset:function(){m=!1,p=1,f=0,e(".answers a").removeClass("correct incorrect"),o.$el.removeClass().addClass("quiz-container"),e("#quiz-restart-btn").hide(),e(d).hide(),e(a).hide(),e("#quiz-controls").hide(),e("#quiz-response").show(),e("#quiz-next-btn").show(),e("#quiz-counter").hide(),e(".active-question").hide().removeClass("active-question")},home:function(){o.methods.reset(),o.$el.addClass("quiz-start-state"),e(u).show(),"function"==typeof o.options.homeCallback&&o.options.homeCallback()},updateCounter:function(){var t=o.options.counterFormat.replace("%current",p).replace("%total",r);e("#quiz-counter").html(t)}},o.methods.init()},e.quiz.defaultOptions={allowIncorrect:!0,counter:!0,counterFormat:"%current/%total",startScreen:"#quiz-start-screen",startButton:"#quiz-start-btn",homeButton:"#quiz-home-btn",resultsScreen:"#quiz-results-screen",resultsFormat:"You got %score out of %total correct!",gameOverScreen:"#quiz-gameover-screen",nextButtonText:"Next",finishButtonText:"Finish",restartButtonText:"Restart"},e.fn.quiz=function(t){return this.each(function(){new e.quiz(this,t)})}}(jQuery,window,document);let subhead=document.getElementsByClassName("chart-subhead"),headline=document.getElementById("chart-head");if(!headline)for(var i=0;i<subhead.length;i++)subhead[i].style.fontWeight="600";const myQuiz=[{q:"A sample question 1?",options:["Answer 1","Answer 2","Answer 3","Answer 4"],correctIndex:1,correctResponse:"Custom correct response.",incorrectResponse:"Custom incorrect response."},{q:"A sample question 2?",options:["Answer 1","Answer 2"],correctIndex:1,correctResponse:"Custom correct response.",incorrectResponse:"Custom incorrect response."},{q:"A smaple question 3?",options:["Answer 1","Answer 2","Answer 3","Answer 4"],correctIndex:2,correctResponse:"Custom correct response.",incorrectResponse:"Custom incorrect response."},{q:"A smaple question 4?",options:["Answer 1","Answer 2"],correctIndex:1,correctResponse:"Custom correct response.",incorrectResponse:"Custom incorrect response."},{q:"A smaple question 5?",options:["Answer 1","Answer 2","Answer 3","Answer 4"],correctIndex:3,correctResponse:"Custom correct response.",incorrectResponse:"Custom incorrect response."}];$("#quiz").quiz({questions:myQuiz,counterFormat:"Question %current of %total"});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5xdWl6LmpzIiwibWFpbi5qcyJdLCJuYW1lcyI6WyIkIiwid2luZG93IiwiZG9jdW1lbnQiLCJ1bmRlZmluZWQiLCJxdWl6IiwiZWwiLCJvcHRpb25zIiwiYmFzZSIsInRoaXMiLCIkZWwiLCJkYXRhIiwiZXh0ZW5kIiwiZGVmYXVsdE9wdGlvbnMiLCJxdWVzdGlvbnMiLCJudW1RdWVzdGlvbnMiLCJsZW5ndGgiLCJzdGFydFNjcmVlbiIsImhvbWVCdXR0b24iLCJzdGFydEJ1dHRvbiIsInJlc3VsdHNTY3JlZW4iLCJnYW1lT3ZlclNjcmVlbiIsIm5leHRCdXR0b25UZXh0IiwiZmluaXNoQnV0dG9uVGV4dCIsInJlc3RhcnRCdXR0b25UZXh0IiwiY3VycmVudFF1ZXN0aW9uIiwic2NvcmUiLCJhbnN3ZXJMb2NrZWQiLCJtZXRob2RzIiwiaW5pdCIsInNldHVwIiwicmVhZHkiLCJlIiwic3RhcnQiLCJvbiIsInByZXZlbnREZWZhdWx0IiwiaG9tZSIsImFuc3dlclF1ZXN0aW9uIiwibmV4dFF1ZXN0aW9uIiwiZmluaXNoIiwicmVzdGFydCIsInF1aXpIdG1sIiwiY291bnRlciIsImVhY2giLCJpIiwicXVlc3Rpb24iLCJxIiwiaW5kZXgiLCJhbnN3ZXIiLCJzdWJzdHIiLCJhcHBlbmQiLCJhZGRDbGFzcyIsImhpZGUiLCJyZW1vdmVDbGFzcyIsInNob3ciLCJ1cGRhdGVDb3VudGVyIiwiYW5zd2VyRWwiLCIkYW5zd2VyRWwiLCJyZXNwb25zZSIsInNlbGVjdGVkIiwiY3VycmVudFF1ZXN0aW9uSW5kZXgiLCJjb3JyZWN0SW5kZXgiLCJjb3JyZWN0UmVzcG9uc2UiLCJpbmNvcnJlY3RSZXNwb25zZSIsImFsbG93SW5jb3JyZWN0IiwiZ2FtZU92ZXIiLCJodG1sIiwiZmFkZUluIiwiYW5zd2VyQ2FsbGJhY2siLCJuZXh0IiwibmV4dENhbGxiYWNrIiwicmVzdWx0c1N0ciIsInJlc3VsdHNGb3JtYXQiLCJyZXBsYWNlIiwiZmluaXNoQ2FsbGJhY2siLCJyZXNldCIsImhvbWVDYWxsYmFjayIsImNvdW50U3RyIiwiY291bnRlckZvcm1hdCIsImZuIiwialF1ZXJ5Iiwic3ViaGVhZCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJoZWFkbGluZSIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJmb250V2VpZ2h0IiwibXlRdWl6Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBLGFBRUFILEVBQUFJLEtBQUEsU0FBQUMsRUFBQUMsR0FDQSxJQUFBQyxFQUFBQyxLQUdBRCxFQUFBRSxJQUFBVCxFQUFBSyxHQUdBRSxFQUFBRSxJQUFBQyxLQUFBLE9BQUFILEdBRUFBLEVBQUFELFFBQUFOLEVBQUFXLE9BQUFYLEVBQUFJLEtBQUFRLGVBQUFOLEdBRUEsSUFBQU8sRUFBQU4sRUFBQUQsUUFBQU8sVUFDQUMsRUFBQUQsRUFBQUUsT0FDQUMsRUFBQVQsRUFBQUQsUUFBQVUsWUFFQUMsR0FEQVYsRUFBQUQsUUFBQVksWUFDQVgsRUFBQUQsUUFBQVcsWUFDQUUsRUFBQVosRUFBQUQsUUFBQWEsY0FDQUMsRUFBQWIsRUFBQUQsUUFBQWMsZUFDQUMsRUFBQWQsRUFBQUQsUUFBQWUsZUFDQUMsRUFBQWYsRUFBQUQsUUFBQWdCLGlCQUNBQyxFQUFBaEIsRUFBQUQsUUFBQWlCLGtCQUNBQyxFQUFBLEVBQ0FDLEVBQUEsRUFDQUMsR0FBQSxFQUVBbkIsRUFBQW9CLFFBQUEsQ0FDQUMsS0FBQSxXQUNBckIsRUFBQW9CLFFBQUFFLFFBRUE3QixFQUFBRSxHQUFBNEIsTUFBQSxTQUFBQyxHQUNBeEIsRUFBQW9CLFFBQUFLLFVBR0FoQyxFQUFBRSxHQUFBK0IsR0FBQSxRQUFBaEIsRUFBQSxTQUFBYyxHQUNBQSxFQUFBRyxpQkFDQTNCLEVBQUFvQixRQUFBUSxTQUdBbkMsRUFBQUUsR0FBQStCLEdBQUEsUUFBQSxhQUFBLFNBQUFGLEdBQ0FBLEVBQUFHLGlCQUNBM0IsRUFBQW9CLFFBQUFTLGVBQUE1QixRQUdBUixFQUFBRSxHQUFBK0Is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LENBQ0EsV0FDQSxZQUVBc0QsYUFBQSxFQUNBQyxnQkFBQSwyQkFDQUMsa0JBQUEsOEJBRUEsQ0FDQWpCLEVBQUEsdUJBQ0F2QyxRQUFBLENBQ0EsV0FDQSxXQUNBLFdBQ0EsWUFFQXNELGFBQUEsRUFDQUMsZ0JBQUEsMkJBQ0FDLGtCQUFBLDhCQUVBLENBQ0FqQixFQUFBLHVCQUNBdkMsUUFBQSxDQUNBLFdBQ0EsWUFFQXNELGFBQUEsRUFDQUMsZ0JBQUEsMkJBQ0FDLGtCQUFBLDhCQUVBLENBQ0FqQixFQUFBLHVCQUNBdkMsUUFBQSxDQUNBLFdBQ0EsV0FDQSxXQUNBLFlBRUFzRCxhQUFBLEVBQ0FDLGdCQUFBLDJCQUNBQyxrQkFBQSwrQkFJQTlELEVBQUEsU0FBQUksS0FBQSxDQUNBUyxVQUFBeUUsT0FDQVQsY0FBQSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiOyhmdW5jdGlvbigkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgJC5xdWl6ID0gZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcbiAgICB2YXIgYmFzZSA9IHRoaXM7XG5cbiAgICAvLyBBY2Nlc3MgdG8galF1ZXJ5IHZlcnNpb24gb2YgZWxlbWVudFxuICAgIGJhc2UuJGVsID0gJChlbCk7XG5cbiAgICAvLyBBZGQgYSByZXZlcnNlIHJlZmVyZW5jZSB0byB0aGUgRE9NIG9iamVjdFxuICAgIGJhc2UuJGVsLmRhdGEoJ3F1aXonLCBiYXNlKTtcblxuICAgIGJhc2Uub3B0aW9ucyA9ICQuZXh0ZW5kKCQucXVpei5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICB2YXIgcXVlc3Rpb25zID0gYmFzZS5vcHRpb25zLnF1ZXN0aW9ucyxcbiAgICAgIG51bVF1ZXN0aW9ucyA9IHF1ZXN0aW9ucy5sZW5ndGgsXG4gICAgICBzdGFydFNjcmVlbiA9IGJhc2Uub3B0aW9ucy5zdGFydFNjcmVlbixcbiAgICAgIHN0YXJ0QnV0dG9uID0gYmFzZS5vcHRpb25zLnN0YXJ0QnV0dG9uLFxuICAgICAgaG9tZUJ1dHRvbiA9IGJhc2Uub3B0aW9ucy5ob21lQnV0dG9uLFxuICAgICAgcmVzdWx0c1NjcmVlbiA9IGJhc2Uub3B0aW9ucy5yZXN1bHRzU2NyZWVuLFxuICAgICAgZ2FtZU92ZXJTY3JlZW4gPSBiYXNlLm9wdGlvbnMuZ2FtZU92ZXJTY3JlZW4sXG4gICAgICBuZXh0QnV0dG9uVGV4dCA9IGJhc2Uub3B0aW9ucy5uZXh0QnV0dG9uVGV4dCxcbiAgICAgIGZpbmlzaEJ1dHRvblRleHQgPSBiYXNlLm9wdGlvbnMuZmluaXNoQnV0dG9uVGV4dCxcbiAgICAgIHJlc3RhcnRCdXR0b25UZXh0ID0gYmFzZS5vcHRpb25zLnJlc3RhcnRCdXR0b25UZXh0LFxuICAgICAgY3VycmVudFF1ZXN0aW9uID0gMSxcbiAgICAgIHNjb3JlID0gMCxcbiAgICAgIGFuc3dlckxvY2tlZCA9IGZhbHNlO1xuXG4gICAgYmFzZS5tZXRob2RzID0ge1xuICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGJhc2UubWV0aG9kcy5zZXR1cCgpO1xuXG4gICAgICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBiYXNlLm1ldGhvZHMuc3RhcnQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgaG9tZUJ1dHRvbiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBiYXNlLm1ldGhvZHMuaG9tZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmFuc3dlcnMgYScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgYmFzZS5tZXRob2RzLmFuc3dlclF1ZXN0aW9uKHRoaXMpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI3F1aXotbmV4dC1idG4nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJhc2UubWV0aG9kcy5uZXh0UXVlc3Rpb24oKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNxdWl6LWZpbmlzaC1idG4nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJhc2UubWV0aG9kcy5maW5pc2goKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNxdWl6LXJlc3RhcnQtYnRuLCAjcXVpei1yZXRyeS1idG4nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJhc2UubWV0aG9kcy5yZXN0YXJ0KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHNldHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHF1aXpIdG1sID0gJyc7XG5cbiAgICAgICAgaWYgKGJhc2Uub3B0aW9ucy5jb3VudGVyKSB7XG4gICAgICAgICAgcXVpekh0bWwgKz0gJzxkaXYgaWQ9XCJxdWl6LWNvdW50ZXJcIj48L2Rpdj4nO1xuICAgICAgICB9XG5cbiAgICAgICAgcXVpekh0bWwgKz0gJzxkaXYgaWQ9XCJxdWVzdGlvbnNcIj4nO1xuICAgICAgICAkLmVhY2gocXVlc3Rpb25zLCBmdW5jdGlvbihpLCBxdWVzdGlvbikge1xuICAgICAgICAgIHF1aXpIdG1sICs9ICc8ZGl2IGNsYXNzPVwicXVlc3Rpb24tY29udGFpbmVyXCI+JztcbiAgICAgICAgICBxdWl6SHRtbCArPSAnPHAgY2xhc3M9XCJxdWVzdGlvblwiPicgKyBxdWVzdGlvbi5xICsgJzwvcD4nO1xuICAgICAgICAgIHF1aXpIdG1sICs9ICc8dWwgY2xhc3M9XCJhbnN3ZXJzXCI+JztcbiAgICAgICAgICAkLmVhY2gocXVlc3Rpb24ub3B0aW9ucywgZnVuY3Rpb24oaW5kZXgsIGFuc3dlcikge1xuICAgICAgICAgICAgcXVpekh0bWwgKz0gJzxsaT48YSBocmVmPVwiI1wiIGRhdGEtaW5kZXg9XCInICsgaW5kZXggKyAnXCI+JyArIGFuc3dlciArICc8L2E+PC9saT4nO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHF1aXpIdG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgcXVpekh0bWwgKz0gJzwvZGl2Pic7XG4gICAgICAgIH0pO1xuICAgICAgICBxdWl6SHRtbCArPSAnPC9kaXY+JztcblxuICAgICAgICAvLyBpZiByZXN1bHRzIHNjcmVlbiBub3QgaW4gRE9NLCBhZGQgaXRcbiAgICAgICAgaWYgKCQocmVzdWx0c1NjcmVlbikubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcXVpekh0bWwgKz0gJzxkaXYgaWQ9XCInICsgcmVzdWx0c1NjcmVlbi5zdWJzdHIoMSkgKyAnXCI+JztcbiAgICAgICAgICBxdWl6SHRtbCArPSAnPHAgaWQ9XCJxdWl6LXJlc3VsdHNcIj48L3A+JztcbiAgICAgICAgICBxdWl6SHRtbCArPSAnPC9kaXY+JztcbiAgICAgICAgfVxuXG4gICAgICAgIHF1aXpIdG1sICs9ICc8ZGl2IGlkPVwicXVpei1jb250cm9sc1wiPic7XG4gICAgICAgIHF1aXpIdG1sICs9ICc8cCBpZD1cInF1aXotcmVzcG9uc2VcIj48L3A+JztcbiAgICAgICAgcXVpekh0bWwgKz0gJzxkaXYgaWQ9XCJxdWl6LWJ1dHRvbnNcIj4nO1xuICAgICAgICBxdWl6SHRtbCArPSAnPGEgaHJlZj1cIiNcIiBpZD1cInF1aXotbmV4dC1idG5cIj4nICsgbmV4dEJ1dHRvblRleHQgKyAnPC9hPic7XG4gICAgICAgIHF1aXpIdG1sICs9ICc8YSBocmVmPVwiI1wiIGlkPVwicXVpei1maW5pc2gtYnRuXCI+JyArIGZpbmlzaEJ1dHRvblRleHQgKyAnPC9hPic7XG4gICAgICAgIHF1aXpIdG1sICs9ICc8YSBocmVmPVwiI1wiIGlkPVwicXVpei1yZXN0YXJ0LWJ0blwiPicgKyByZXN0YXJ0QnV0dG9uVGV4dCArICc8L2E+JztcbiAgICAgICAgcXVpekh0bWwgKz0gJzwvZGl2Pic7XG4gICAgICAgIHF1aXpIdG1sICs9ICc8L2Rpdj4nO1xuXG4gICAgICAgIGJhc2UuJGVsLmFwcGVuZChxdWl6SHRtbCkuYWRkQ2xhc3MoJ3F1aXotY29udGFpbmVyIHF1aXotc3RhcnQtc3RhdGUnKTtcblxuICAgICAgICAkKCcjcXVpei1jb3VudGVyJykuaGlkZSgpO1xuICAgICAgICAkKCcucXVlc3Rpb24tY29udGFpbmVyJykuaGlkZSgpO1xuICAgICAgICAkKGdhbWVPdmVyU2NyZWVuKS5oaWRlKCk7XG4gICAgICAgICQocmVzdWx0c1NjcmVlbikuaGlkZSgpO1xuICAgICAgICAkKCcjcXVpei1jb250cm9scycpLmhpZGUoKTtcbiAgICAgIH0sXG4gICAgICBzdGFydDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGJhc2UuJGVsLnJlbW92ZUNsYXNzKCdxdWl6LXN0YXJ0LXN0YXRlJykuYWRkQ2xhc3MoJ3F1aXotcXVlc3Rpb25zLXN0YXRlJyk7XG4gICAgICAgICQoc3RhcnRTY3JlZW4pLmhpZGUoKTtcbiAgICAgICAgJCgnI3F1aXotY29udHJvbHMnKS5oaWRlKCk7XG4gICAgICAgICQoJyNxdWl6LWZpbmlzaC1idG4nKS5oaWRlKCk7XG4gICAgICAgICQoJyNxdWl6LXJlc3RhcnQtYnRuJykuaGlkZSgpO1xuICAgICAgICAkKCcjcXVlc3Rpb25zJykuc2hvdygpO1xuICAgICAgICAkKCcjcXVpei1jb3VudGVyJykuc2hvdygpO1xuICAgICAgICAkKCcucXVlc3Rpb24tY29udGFpbmVyOmZpcnN0LWNoaWxkJykuc2hvdygpLmFkZENsYXNzKCdhY3RpdmUtcXVlc3Rpb24nKTtcbiAgICAgICAgYmFzZS5tZXRob2RzLnVwZGF0ZUNvdW50ZXIoKTtcbiAgICAgIH0sXG4gICAgICBhbnN3ZXJRdWVzdGlvbjogZnVuY3Rpb24oYW5zd2VyRWwpIHtcbiAgICAgICAgaWYgKGFuc3dlckxvY2tlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhbnN3ZXJMb2NrZWQgPSB0cnVlO1xuXG4gICAgICAgIHZhciAkYW5zd2VyRWwgPSAkKGFuc3dlckVsKSxcbiAgICAgICAgICByZXNwb25zZSA9ICcnLFxuICAgICAgICAgIHNlbGVjdGVkID0gJGFuc3dlckVsLmRhdGEoJ2luZGV4JyksXG4gICAgICAgICAgY3VycmVudFF1ZXN0aW9uSW5kZXggPSBjdXJyZW50UXVlc3Rpb24gLSAxLFxuICAgICAgICAgIGNvcnJlY3QgPSBxdWVzdGlvbnNbY3VycmVudFF1ZXN0aW9uSW5kZXhdLmNvcnJlY3RJbmRleDtcblxuICAgICAgICBpZiAoc2VsZWN0ZWQgPT09IGNvcnJlY3QpIHtcbiAgICAgICAgICAkYW5zd2VyRWwuYWRkQ2xhc3MoJ2NvcnJlY3QnKTtcbiAgICAgICAgICByZXNwb25zZSA9IHF1ZXN0aW9uc1tjdXJyZW50UXVlc3Rpb25JbmRleF0uY29ycmVjdFJlc3BvbnNlO1xuICAgICAgICAgIHNjb3JlKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGFuc3dlckVsLmFkZENsYXNzKCdpbmNvcnJlY3QnKTtcbiAgICAgICAgICByZXNwb25zZSA9IHF1ZXN0aW9uc1tjdXJyZW50UXVlc3Rpb25JbmRleF0uaW5jb3JyZWN0UmVzcG9uc2U7XG4gICAgICAgICAgaWYgKCFiYXNlLm9wdGlvbnMuYWxsb3dJbmNvcnJlY3QpIHtcbiAgICAgICAgICAgIGJhc2UubWV0aG9kcy5nYW1lT3ZlcihyZXNwb25zZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJCgnI3F1aXotcmVzcG9uc2UnKS5odG1sKHJlc3BvbnNlKTtcbiAgICAgICAgJCgnI3F1aXotY29udHJvbHMnKS5mYWRlSW4oKTtcblxuICAgICAgICBpZiAodHlwZW9mIGJhc2Uub3B0aW9ucy5hbnN3ZXJDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGJhc2Uub3B0aW9ucy5hbnN3ZXJDYWxsYmFjayhjdXJyZW50UXVlc3Rpb24sIHNlbGVjdGVkLCBxdWVzdGlvbnNbY3VycmVudFF1ZXN0aW9uSW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG5leHRRdWVzdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGFuc3dlckxvY2tlZCA9IGZhbHNlO1xuXG4gICAgICAgICQoJy5hY3RpdmUtcXVlc3Rpb24nKVxuICAgICAgICAgIC5oaWRlKClcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1xdWVzdGlvbicpXG4gICAgICAgICAgLm5leHQoJy5xdWVzdGlvbi1jb250YWluZXInKVxuICAgICAgICAgIC5zaG93KClcbiAgICAgICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZS1xdWVzdGlvbicpO1xuXG4gICAgICAgICQoJyNxdWl6LWNvbnRyb2xzJykuaGlkZSgpO1xuXG4gICAgICAgIC8vIGNoZWNrIHRvIHNlZSBpZiB3ZSBhcmUgYXQgdGhlIGxhc3QgcXVlc3Rpb25cbiAgICAgICAgaWYgKCsrY3VycmVudFF1ZXN0aW9uID09PSBudW1RdWVzdGlvbnMpIHtcbiAgICAgICAgICAkKCcjcXVpei1uZXh0LWJ0bicpLmhpZGUoKTtcbiAgICAgICAgICAkKCcjcXVpei1maW5pc2gtYnRuJykuc2hvdygpO1xuICAgICAgICB9XG5cbiAgICAgICAgYmFzZS5tZXRob2RzLnVwZGF0ZUNvdW50ZXIoKTtcblxuICAgICAgICBpZiAodHlwZW9mIGJhc2Uub3B0aW9ucy5uZXh0Q2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBiYXNlLm9wdGlvbnMubmV4dENhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnYW1lT3ZlcjogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgLy8gaWYgZ2FtZW92ZXIgc2NyZWVuIG5vdCBpbiBET00sIGFkZCBpdFxuICAgICAgICBpZiAoJChnYW1lT3ZlclNjcmVlbikubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdmFyIHF1aXpIdG1sID0gJyc7XG4gICAgICAgICAgcXVpekh0bWwgKz0gJzxkaXYgaWQ9XCInICsgZ2FtZU92ZXJTY3JlZW4uc3Vic3RyKDEpICsgJ1wiPic7XG4gICAgICAgICAgcXVpekh0bWwgKz0gJzxwIGlkPVwicXVpei1nYW1lb3Zlci1yZXNwb25zZVwiPjwvcD4nO1xuICAgICAgICAgIHF1aXpIdG1sICs9ICc8cD48YSBocmVmPVwiI1wiIGlkPVwicXVpei1yZXRyeS1idG5cIj4nICsgcmVzdGFydEJ1dHRvblRleHQgKyAnPC9hPjwvcD4nO1xuICAgICAgICAgIHF1aXpIdG1sICs9ICc8L2Rpdj4nO1xuICAgICAgICAgIGJhc2UuJGVsLmFwcGVuZChxdWl6SHRtbCk7XG4gICAgICAgIH1cbiAgICAgICAgJCgnI3F1aXotZ2FtZW92ZXItcmVzcG9uc2UnKS5odG1sKHJlc3BvbnNlKTtcbiAgICAgICAgJCgnI3F1aXotY291bnRlcicpLmhpZGUoKTtcbiAgICAgICAgJCgnI3F1ZXN0aW9ucycpLmhpZGUoKTtcbiAgICAgICAgJCgnI3F1aXotZmluaXNoLWJ0bicpLmhpZGUoKTtcbiAgICAgICAgJChnYW1lT3ZlclNjcmVlbikuc2hvdygpO1xuICAgICAgfSxcbiAgICAgIGZpbmlzaDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGJhc2UuJGVsLnJlbW92ZUNsYXNzKCdxdWl6LXF1ZXN0aW9ucy1zdGF0ZScpLmFkZENsYXNzKCdxdWl6LXJlc3VsdHMtc3RhdGUnKTtcbiAgICAgICAgJCgnLmFjdGl2ZS1xdWVzdGlvbicpLmhpZGUoKS5yZW1vdmVDbGFzcygnYWN0aXZlLXF1ZXN0aW9uJyk7XG4gICAgICAgICQoJyNxdWl6LWNvdW50ZXInKS5oaWRlKCk7XG4gICAgICAgICQoJyNxdWl6LXJlc3BvbnNlJykuaGlkZSgpO1xuICAgICAgICAkKCcjcXVpei1maW5pc2gtYnRuJykuaGlkZSgpO1xuICAgICAgICAkKCcjcXVpei1uZXh0LWJ0bicpLmhpZGUoKTtcbiAgICAgICAgJCgnI3F1aXotcmVzdGFydC1idG4nKS5zaG93KCk7XG4gICAgICAgICQocmVzdWx0c1NjcmVlbikuc2hvdygpO1xuICAgICAgICB2YXIgcmVzdWx0c1N0ciA9IGJhc2Uub3B0aW9ucy5yZXN1bHRzRm9ybWF0LnJlcGxhY2UoJyVzY29yZScsIHNjb3JlKS5yZXBsYWNlKCcldG90YWwnLCBudW1RdWVzdGlvbnMpO1xuICAgICAgICAkKCcjcXVpei1yZXN1bHRzJykuaHRtbChyZXN1bHRzU3RyKTtcblxuICAgICAgICBpZiAodHlwZW9mIGJhc2Uub3B0aW9ucy5maW5pc2hDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGJhc2Uub3B0aW9ucy5maW5pc2hDYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVzdGFydDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGJhc2UubWV0aG9kcy5yZXNldCgpO1xuICAgICAgICBiYXNlLiRlbC5hZGRDbGFzcygncXVpei1xdWVzdGlvbnMtc3RhdGUnKTtcbiAgICAgICAgJCgnI3F1ZXN0aW9ucycpLnNob3coKTtcbiAgICAgICAgJCgnI3F1aXotY291bnRlcicpLnNob3coKTtcbiAgICAgICAgJCgnLnF1ZXN0aW9uLWNvbnRhaW5lcjpmaXJzdC1jaGlsZCcpLnNob3coKS5hZGRDbGFzcygnYWN0aXZlLXF1ZXN0aW9uJyk7XG4gICAgICAgIGJhc2UubWV0aG9kcy51cGRhdGVDb3VudGVyKCk7XG4gICAgICB9LFxuICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBhbnN3ZXJMb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgY3VycmVudFF1ZXN0aW9uID0gMTtcbiAgICAgICAgc2NvcmUgPSAwO1xuICAgICAgICAkKCcuYW5zd2VycyBhJykucmVtb3ZlQ2xhc3MoJ2NvcnJlY3QgaW5jb3JyZWN0Jyk7XG4gICAgICAgIGJhc2UuJGVsLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ3F1aXotY29udGFpbmVyJyk7XG4gICAgICAgICQoJyNxdWl6LXJlc3RhcnQtYnRuJykuaGlkZSgpO1xuICAgICAgICAkKGdhbWVPdmVyU2NyZWVuKS5oaWRlKCk7XG4gICAgICAgICQocmVzdWx0c1NjcmVlbikuaGlkZSgpO1xuICAgICAgICAkKCcjcXVpei1jb250cm9scycpLmhpZGUoKTtcbiAgICAgICAgJCgnI3F1aXotcmVzcG9uc2UnKS5zaG93KCk7XG4gICAgICAgICQoJyNxdWl6LW5leHQtYnRuJykuc2hvdygpO1xuICAgICAgICAkKCcjcXVpei1jb3VudGVyJykuaGlkZSgpO1xuICAgICAgICAkKCcuYWN0aXZlLXF1ZXN0aW9uJykuaGlkZSgpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcXVlc3Rpb24nKTtcbiAgICAgIH0sXG4gICAgICBob21lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgYmFzZS5tZXRob2RzLnJlc2V0KCk7XG4gICAgICAgIGJhc2UuJGVsLmFkZENsYXNzKCdxdWl6LXN0YXJ0LXN0YXRlJyk7XG4gICAgICAgICQoc3RhcnRTY3JlZW4pLnNob3coKTtcblxuICAgICAgICBpZiAodHlwZW9mIGJhc2Uub3B0aW9ucy5ob21lQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBiYXNlLm9wdGlvbnMuaG9tZUNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1cGRhdGVDb3VudGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNvdW50U3RyID0gYmFzZS5vcHRpb25zLmNvdW50ZXJGb3JtYXQucmVwbGFjZSgnJWN1cnJlbnQnLCBjdXJyZW50UXVlc3Rpb24pLnJlcGxhY2UoJyV0b3RhbCcsIG51bVF1ZXN0aW9ucyk7XG4gICAgICAgICQoJyNxdWl6LWNvdW50ZXInKS5odG1sKGNvdW50U3RyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgYmFzZS5tZXRob2RzLmluaXQoKTtcbiAgfTtcblxuICAkLnF1aXouZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgYWxsb3dJbmNvcnJlY3Q6IHRydWUsXG4gICAgY291bnRlcjogdHJ1ZSxcbiAgICBjb3VudGVyRm9ybWF0OiAnJWN1cnJlbnQvJXRvdGFsJyxcbiAgICBzdGFydFNjcmVlbjogJyNxdWl6LXN0YXJ0LXNjcmVlbicsXG4gICAgc3RhcnRCdXR0b246ICcjcXVpei1zdGFydC1idG4nLFxuICAgIGhvbWVCdXR0b246ICcjcXVpei1ob21lLWJ0bicsXG4gICAgcmVzdWx0c1NjcmVlbjogJyNxdWl6LXJlc3VsdHMtc2NyZWVuJyxcbiAgICByZXN1bHRzRm9ybWF0OiAnWW91IGdvdCAlc2NvcmUgb3V0IG9mICV0b3RhbCBjb3JyZWN0IScsXG4gICAgZ2FtZU92ZXJTY3JlZW46ICcjcXVpei1nYW1lb3Zlci1zY3JlZW4nLFxuICAgIG5leHRCdXR0b25UZXh0OiAnTmV4dCcsXG4gICAgZmluaXNoQnV0dG9uVGV4dDogJ0ZpbmlzaCcsXG4gICAgcmVzdGFydEJ1dHRvblRleHQ6ICdSZXN0YXJ0J1xuICB9O1xuXG4gICQuZm4ucXVpeiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgbmV3ICQucXVpeih0aGlzLCBvcHRpb25zKTtcbiAgICB9KTtcbiAgfTtcbn0oalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KSk7IiwiLy8gYWRkcyBzb2NpYWwgY2xhc3MgdG8gZ2V0IHNvY2lhbCBjaGFydFxuLy8gbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY2hhcnQtYXJlYVwiKTtcbi8vIGZvcih2YXIgaSA9IDA7IGkgPCBlbGVtZW50Lmxlbmd0aDsgaSsrKVxuLy8ge1xuLy8gICAgIGVsZW1lbnRbaV0uY2xhc3NOYW1lICs9IFwiIHNvY2lhbFwiO1xuLy8gfVxuXG4vLyBib2xkcyB0aGUgc3ViaGVhZCBpZiB0aGVyZSBpcyBubyBoZWFkbGluZVxubGV0IHN1YmhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY2hhcnQtc3ViaGVhZFwiKSxcbiAgICBoZWFkbGluZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hhcnQtaGVhZFwiKTtcbiAgICBpZiAoIWhlYWRsaW5lKSB7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBzdWJoZWFkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzdWJoZWFkW2ldLnN0eWxlLmZvbnRXZWlnaHQgPSBcIjYwMFwiO1xuICAgICAgICB9ICAgICAgIFxuICAgICB9XG5cblxuY29uc3QgbXlRdWl6ID0gW1xuICAgIHtcbiAgICAncSc6ICdBIHNhbXBsZSBxdWVzdGlvbiAxPycsXG4gICAgJ29wdGlvbnMnOiBbXG4gICAgICAgICdBbnN3ZXIgMScsXG4gICAgICAgICdBbnN3ZXIgMicsXG4gICAgICAgICdBbnN3ZXIgMycsXG4gICAgICAgICdBbnN3ZXIgNCdcbiAgICBdLFxuICAgICdjb3JyZWN0SW5kZXgnOiAxLFxuICAgICdjb3JyZWN0UmVzcG9uc2UnOiAnQ3VzdG9tIGNvcnJlY3QgcmVzcG9uc2UuJyxcbiAgICAnaW5jb3JyZWN0UmVzcG9uc2UnOiAnQ3VzdG9tIGluY29ycmVjdCByZXNwb25zZS4nXG4gICAgfSxcbiAgICB7XG4gICAgJ3EnOiAnQSBzYW1wbGUgcXVlc3Rpb24gMj8nLFxuICAgICdvcHRpb25zJzogW1xuICAgICAgICAnQW5zd2VyIDEnLFxuICAgICAgICAnQW5zd2VyIDInXG4gICAgXSxcbiAgICAnY29ycmVjdEluZGV4JzogMSxcbiAgICAnY29ycmVjdFJlc3BvbnNlJzogJ0N1c3RvbSBjb3JyZWN0IHJlc3BvbnNlLicsXG4gICAgJ2luY29ycmVjdFJlc3BvbnNlJzogJ0N1c3RvbSBpbmNvcnJlY3QgcmVzcG9uc2UuJ1xuICAgIH0sXG4gICAge1xuICAgICdxJzogJ0Egc21hcGxlIHF1ZXN0aW9uIDM/JyxcbiAgICAnb3B0aW9ucyc6IFtcbiAgICAgICAgJ0Fuc3dlciAxJyxcbiAgICAgICAgJ0Fuc3dlciAyJyxcbiAgICAgICAgJ0Fuc3dlciAzJyxcbiAgICAgICAgJ0Fuc3dlciA0J1xuICAgIF0sXG4gICAgJ2NvcnJlY3RJbmRleCc6IDIsXG4gICAgJ2NvcnJlY3RSZXNwb25zZSc6ICdDdXN0b20gY29ycmVjdCByZXNwb25zZS4nLFxuICAgICdpbmNvcnJlY3RSZXNwb25zZSc6ICdDdXN0b20gaW5jb3JyZWN0IHJlc3BvbnNlLidcbiAgICB9LFxuICAgIHtcbiAgICAncSc6ICdBIHNtYXBsZSBxdWVzdGlvbiA0PycsXG4gICAgJ29wdGlvbnMnOiBbXG4gICAgICAgICdBbnN3ZXIgMScsXG4gICAgICAgICdBbnN3ZXIgMidcbiAgICBdLFxuICAgICdjb3JyZWN0SW5kZXgnOiAxLFxuICAgICdjb3JyZWN0UmVzcG9uc2UnOiAnQ3VzdG9tIGNvcnJlY3QgcmVzcG9uc2UuJyxcbiAgICAnaW5jb3JyZWN0UmVzcG9uc2UnOiAnQ3VzdG9tIGluY29ycmVjdCByZXNwb25zZS4nXG4gICAgfSxcbiAgICB7XG4gICAgJ3EnOiAnQSBzbWFwbGUgcXVlc3Rpb24gNT8nLFxuICAgICdvcHRpb25zJzogW1xuICAgICAgICAnQW5zd2VyIDEnLFxuICAgICAgICAnQW5zd2VyIDInLFxuICAgICAgICAnQW5zd2VyIDMnLFxuICAgICAgICAnQW5zd2VyIDQnXG4gICAgXSxcbiAgICAnY29ycmVjdEluZGV4JzogMyxcbiAgICAnY29ycmVjdFJlc3BvbnNlJzogJ0N1c3RvbSBjb3JyZWN0IHJlc3BvbnNlLicsXG4gICAgJ2luY29ycmVjdFJlc3BvbnNlJzogJ0N1c3RvbSBpbmNvcnJlY3QgcmVzcG9uc2UuJ1xuICAgIH1cbl1cblxuJCgnI3F1aXonKS5xdWl6KHtcbiAgICBxdWVzdGlvbnM6IG15UXVpeixcbiAgICBjb3VudGVyRm9ybWF0OiAnUXVlc3Rpb24gJWN1cnJlbnQgb2YgJXRvdGFsJ1xufSk7XG5cbiAgICBcbiJdfQ==
